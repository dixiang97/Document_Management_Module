<template>
  <section
    role="dialog"
    tabindex="-1"
    class="slds-modal slds-fade-in-open slds-modal_large"
    aria-labelledby="modal-heading-01"
    aria-modal="true"
    aria-describedby="modal-content-id-1"
  >
    <div class="slds-modal__container">
      <header class="slds-modal__header">
        <div class="slds-modal__close">
          <lightning-button-icon
            icon-name="utility:close"
            alternative-text="Close"
            variant="bare-inverse"
            size="large"
            title="Close"
            onclick={handleClose}
          ></lightning-button-icon>
        </div>
        <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">
          Link/Unlink
        </h2>
      </header>
      <div
        class="slds-modal__content slds-p-around_medium"
        id="modal-content-id-1"
      >
        <template if:true={inSearchPage}>
          <c-file-link-account-search
            onaccountselect={handleAccountSelect}
          ></c-file-link-account-search>
        </template>
        <template if:true={inLinkPage}>
          <c-file-link
            content-document-id={contentDocumentId}
            account-id={selectedAccountId}
          ></c-file-link>
        </template>
      </div>
      <footer class="slds-modal__footer slds-modal__footer_directional">
        <!-- Not in first page-->
        <template if:false={inFirstPage}
          ><button class="slds-button slds-button_neutral" onclick={handleBack}>
            Back
          </button>
        </template>
        <!-- In first page-->
        <template if:true={inFirstPage}
          ><button class="slds-button slds-button_neutral" disabled>
            Back
          </button>
        </template>
        <!-- Not in Last page-->
        <template if:false={inLastPage}>
          <button class="slds-button slds-button_brand" onclick={handleNext}>
            Next
          </button>
        </template>
        <!-- In Link page-->
        <template if:true={inLinkPage}>
          <button class="slds-button slds-button_brand" onclick={handleNext}>
            Save
          </button>
        </template>
      </footer>
    </div>
  </section>
  <div class="slds-backdrop slds-backdrop_open"></div>
</template>
